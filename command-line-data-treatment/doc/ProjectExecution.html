<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class ProjectExecution - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script src="./js/jquery.js"></script>
<script src="./js/darkfish.js"></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link">Object
  
</div>

    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-i-derive_file">#derive_file</a>
    
    <li ><a href="#method-i-file_backup">#file_backup</a>
    
    <li ><a href="#method-i-input_non_empty_string_or_multiline_prompt">#input_non_empty_string_or_multiline_prompt</a>
    
    <li ><a href="#method-i-input_shift">#input_shift</a>
    
    <li ><a href="#method-i-input_shift_or_empty_string">#input_shift_or_empty_string</a>
    
    <li ><a href="#method-i-main">#main</a>
    
    <li ><a href="#method-i-non_neutral_element">#non_neutral_element</a>
    
    <li ><a href="#method-i-replace-21">#replace!</a>
    
    <li ><a href="#method-i-save_file">#save_file</a>
    
    <li ><a href="#method-i-unzip_slice_size_2">#unzip_slice_size_2</a>
    
    <li ><a href="#method-i-url_to_str">#url_to_str</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-ProjectExecution">
  <h1 id="class-ProjectExecution" class="class">
    class ProjectExecution
  </h1>

  <section class="description">
    
<p>instead of replacing a file, duplicate chunks having an entry.  supposed
you have a file modules.txt:</p>

<p>MY_MODULE_1:</p>

<p>myModule_1 is a special module. execute it by calling my_module_1 on your
interface.</p>

<p>MY_MODULE_3:</p>

<p>myModule_3 is a special module. execute it by calling my_module_3 on your
interface.</p>

<pre class="ruby"><span class="ruby-identifier">probably</span> <span class="ruby-identifier">you</span> <span class="ruby-identifier">want</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">add</span> <span class="ruby-identifier">entries</span> <span class="ruby-identifier">to</span> <span class="ruby-identifier">my_module_2</span> <span class="ruby-identifier">too</span>, <span class="ruby-identifier">right?</span>
</pre>

<p>usage: ./derive_file.rb modules.txt /dev/stdout “” my_module_1 my_module_2
myModule_1 myModule_2 MY_MODULE_1 MY_MODULE_2  # outputs to /dev/stdout
./derive_file.rb “” /dev/stdout “”  my_module_1 my_module_2 myModule_1
myModule_2 MY_MODULE_1 MY_MODULE_2  # edit modules.txt instead</p>

<p>probably you want to fine tune the value  of regexes variable in the source
code.  the contain which kind of lines should be grouped to the previous
chunks (empty lines, comments, …)</p>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(memory = {})</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File file_backup.rb, line 6</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span> <span class="ruby-identifier">memory</span> = {}
  <span class="ruby-ivar">@memory</span> = {
    <span class="ruby-value">:stderr</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">STDERR</span>,
    <span class="ruby-value">:time</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>,
  }
  <span class="ruby-ivar">@memory</span>.<span class="ruby-identifier">update</span> <span class="ruby-identifier">memory</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-derive_file" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">derive_file</span><span
            class="method-args">(args=ARGV)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="derive_file-source">
            <pre><span class="ruby-comment"># File derive_file.rb, line 40</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">derive_file</span> <span class="ruby-identifier">args</span>=<span class="ruby-constant">ARGV</span>
  <span class="ruby-identifier">infile</span>  = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>
  <span class="ruby-identifier">outfile</span> = (<span class="ruby-identifier">non_neutral_element</span> [<span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>])  <span class="ruby-operator">||</span> <span class="ruby-identifier">infile</span>
  <span class="ruby-identifier">regexes</span> = (<span class="ruby-identifier">non_neutral_element</span> [<span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>])  <span class="ruby-operator">||</span> [<span class="ruby-regexp">/^$/</span>, (<span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">new</span> <span class="ruby-string">&#39;^#$&#39;</span>) ]
  <span class="ruby-identifier">replacements</span> = <span class="ruby-constant">Hash</span>[<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>].<span class="ruby-identifier">to_a</span>
  <span class="ruby-identifier">lines</span> =  <span class="ruby-constant">File</span>.<span class="ruby-identifier">readlines</span> <span class="ruby-identifier">infile</span>
  <span class="ruby-identifier">last_chunck</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-identifier">line_chunks</span> = <span class="ruby-identifier">lines</span>.<span class="ruby-identifier">chunk</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">l</span><span class="ruby-operator">|</span> <span class="ruby-identifier">last_chunck</span> = (( <span class="ruby-identifier">last_chunck</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">regexes</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">regex</span><span class="ruby-operator">|</span> (<span class="ruby-identifier">l</span>.<span class="ruby-identifier">index</span> <span class="ruby-identifier">regex</span>)}.<span class="ruby-identifier">any?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">replacements</span>.<span class="ruby-identifier">transpose</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">what</span><span class="ruby-operator">|</span> (<span class="ruby-identifier">l</span>.<span class="ruby-identifier">index</span> <span class="ruby-identifier">what</span>) }.<span class="ruby-identifier">any?</span> ) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword">true</span> <span class="ruby-operator">||</span> <span class="ruby-keyword">false</span>) }.<span class="ruby-identifier">entries</span>

  <span class="ruby-identifier">new_contents</span> = <span class="ruby-identifier">line_chunks</span>.<span class="ruby-identifier">map</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">line_chunck</span><span class="ruby-operator">|</span>  <span class="ruby-identifier">derive</span>, <span class="ruby-identifier">_lines</span> = <span class="ruby-identifier">line_chunck</span> ;  <span class="ruby-identifier">derive</span> <span class="ruby-operator">&amp;&amp;</span> ( <span class="ruby-identifier">_lines</span>.<span class="ruby-identifier">concat</span> ( <span class="ruby-identifier">_lines</span>.<span class="ruby-identifier">map</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">_l</span><span class="ruby-operator">|</span> (<span class="ruby-identifier">replace!</span> <span class="ruby-identifier">_l</span>.<span class="ruby-identifier">clone</span>, <span class="ruby-identifier">replacements</span>)  }) ) <span class="ruby-operator">||</span> <span class="ruby-identifier">_lines</span> }


  <span class="ruby-constant">File</span>.<span class="ruby-identifier">write</span> <span class="ruby-identifier">outfile</span>, <span class="ruby-identifier">new_contents</span>.<span class="ruby-identifier">join</span>

<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-file_backup" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">file_backup</span><span
            class="method-args">(file = __FILE__ , dir = '/tmp/', append = ('-' + Time.now.hash.abs.to_s), prepend='/')</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>if file is a nonexisting filepath, or by any reason throws any exception,
it will be treated as contents instead, and the filename will treated as “”
file can be a url, if &#39;open-uri&#39; is available.</p>
          
          

          
          <div class="method-source-code" id="file_backup-source">
            <pre><span class="ruby-comment"># File file_backup.rb, line 19</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">file_backup</span> <span class="ruby-identifier">file</span> = <span class="ruby-keyword">__FILE__</span> , <span class="ruby-identifier">dir</span> = <span class="ruby-string">&#39;/tmp/&#39;</span>, <span class="ruby-identifier">append</span> = (<span class="ruby-string">&#39;-&#39;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>.<span class="ruby-identifier">hash</span>.<span class="ruby-identifier">abs</span>.<span class="ruby-identifier">to_s</span>), <span class="ruby-identifier">prepend</span>=<span class="ruby-string">&#39;/&#39;</span>
  <span class="ruby-identifier">stderr</span> = <span class="ruby-ivar">@memory</span>[<span class="ruby-value">:stderr</span>]
  (<span class="ruby-identifier">require</span> <span class="ruby-string">&#39;open-uri&#39;</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">open_uri</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;fileutils&#39;</span>
  <span class="ruby-identifier">file_is_filename</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">open_uri</span> <span class="ruby-operator">&amp;&amp;</span> (
    <span class="ruby-identifier">contents</span> = <span class="ruby-identifier">open</span>(<span class="ruby-identifier">file</span>).<span class="ruby-identifier">read</span> <span class="ruby-keyword">rescue</span>  (<span class="ruby-identifier">file_is_filename</span> = <span class="ruby-keyword">false</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">file</span>
  ) <span class="ruby-operator">||</span> (
    <span class="ruby-identifier">contents</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span> <span class="ruby-identifier">file</span> <span class="ruby-keyword">rescue</span>  (<span class="ruby-identifier">file_is_filename</span> = <span class="ruby-keyword">false</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">file</span>
  )
  <span class="ruby-identifier">stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;location = dir:#{dir} + prepend:#{prepend} + (#{file_is_filename} &amp;&amp; #{file} || &#39;&#39; ) + #{append}&quot;</span>
  <span class="ruby-identifier">location</span> = <span class="ruby-identifier">dir</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">prepend</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">file_is_filename</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">file</span> <span class="ruby-operator">||</span> <span class="ruby-string">&#39;&#39;</span> ) <span class="ruby-operator">+</span> <span class="ruby-identifier">append</span>
  <span class="ruby-identifier">stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;FileUtils.mkdir_p File.dirname #{location}&quot;</span> <span class="ruby-comment"># note &quot;~&quot; doesn&#39;t work</span>
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">mkdir_p</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span> <span class="ruby-identifier">location</span> <span class="ruby-comment"># note &quot;~&quot; doesn&#39;t work</span>
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">write</span> <span class="ruby-identifier">location</span>, <span class="ruby-identifier">contents</span>
  <span class="ruby-identifier">contents</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-input_non_empty_string_or_multiline_prompt" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">input_non_empty_string_or_multiline_prompt</span><span
            class="method-args">(args=ARGV)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>returns the first value of args if it is a non empty string, or prompt.
useful for reading file contents, e.g.</p>
          
          

          
          <div class="method-source-code" id="input_non_empty_string_or_multiline_prompt-source">
            <pre><span class="ruby-comment"># File file_backup.rb, line 58</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">input_non_empty_string_or_multiline_prompt</span> <span class="ruby-identifier">args</span>=<span class="ruby-constant">ARGV</span>
  <span class="ruby-identifier">stderr</span> = <span class="ruby-ivar">@memory</span>[<span class="ruby-value">:stderr</span>]
  <span class="ruby-identifier">stderr</span>.<span class="ruby-identifier">print</span> <span class="ruby-string">&quot;multiline[control-D to stop]:&quot;</span>
  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;\0&quot;</span>).<span class="ruby-identifier">first</span> <span class="ruby-operator">||</span>  <span class="ruby-identifier">readlines</span>.<span class="ruby-identifier">join</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-input_shift" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">input_shift</span><span
            class="method-args">(args=ARGV)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="input_shift-source">
            <pre><span class="ruby-comment"># File file_backup.rb, line 69</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">input_shift</span> <span class="ruby-identifier">args</span>=<span class="ruby-constant">ARGV</span>
  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-input_shift_or_empty_string" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">input_shift_or_empty_string</span><span
            class="method-args">(args=ARGV, default = '')</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="input_shift_or_empty_string-source">
            <pre><span class="ruby-comment"># File file_backup.rb, line 65</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">input_shift_or_empty_string</span> <span class="ruby-identifier">args</span>=<span class="ruby-constant">ARGV</span>, <span class="ruby-identifier">default</span> = <span class="ruby-string">&#39;&#39;</span>
  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">default</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-main" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">main</span><span
            class="method-args">(args=ARGV)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="main-source">
            <pre><span class="ruby-comment"># File file_backup.rb, line 73</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">main</span> <span class="ruby-identifier">args</span>=<span class="ruby-constant">ARGV</span>
  <span class="ruby-identifier">stderr</span> = <span class="ruby-ivar">@memory</span>[<span class="ruby-value">:stderr</span>]
  <span class="ruby-identifier">time</span>   = <span class="ruby-ivar">@memory</span>[<span class="ruby-value">:time</span>]
  <span class="ruby-identifier">file</span>    = <span class="ruby-identifier">input_non_empty_string_or_multiline_prompt</span> <span class="ruby-identifier">args</span>
  <span class="ruby-identifier">dir</span>     = <span class="ruby-identifier">input_shift_or_empty_string</span> <span class="ruby-identifier">args</span>
  <span class="ruby-identifier">append</span>  = <span class="ruby-identifier">input_shift_or_empty_string</span> <span class="ruby-identifier">args</span>, <span class="ruby-string">&#39;.&#39;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">time</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%Y.%m.%d_%H:%M:%S&quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;.&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">time</span>.<span class="ruby-identifier">hash</span>.<span class="ruby-identifier">abs</span>.<span class="ruby-identifier">to_s</span>
  <span class="ruby-identifier">stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;append{#{append}}append&quot;</span>
  <span class="ruby-identifier">prepend</span> = <span class="ruby-identifier">input_shift_or_empty_string</span> <span class="ruby-identifier">args</span>, <span class="ruby-string">&#39;/&#39;</span>
  <span class="ruby-identifier">file_backup</span> <span class="ruby-identifier">file</span>, <span class="ruby-identifier">dir</span>, <span class="ruby-identifier">append</span>, <span class="ruby-identifier">prepend</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-non_neutral_element" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">non_neutral_element</span><span
            class="method-args">(args=ARGV)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="non_neutral_element-source">
            <pre><span class="ruby-comment"># File derive_file.rb, line 29</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">non_neutral_element</span> <span class="ruby-identifier">args</span>=<span class="ruby-constant">ARGV</span>
  <span class="ruby-comment"># returns something that can be tested as false if the first element</span>
  <span class="ruby-comment"># in array is considered to be the neutral element of the class.</span>
  <span class="ruby-comment"># otherwise, returns that element</span>
  <span class="ruby-identifier">element</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>
  <span class="ruby-identifier">result</span> = (<span class="ruby-identifier">element</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">element</span>.<span class="ruby-identifier">size</span>) <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">element</span>
  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-replace-21" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">replace!</span><span
            class="method-args">(s, replacements ;)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="replace-21-source">
            <pre><span class="ruby-comment"># File derive_file.rb, line 38</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">replace!</span> <span class="ruby-identifier">s</span>, <span class="ruby-identifier">replacements</span> ; <span class="ruby-identifier">replacements</span>.<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span> <span class="ruby-identifier">what</span>, <span class="ruby-identifier">with</span> = <span class="ruby-identifier">r</span> ;  (<span class="ruby-identifier">s</span>.<span class="ruby-identifier">gsub!</span> <span class="ruby-identifier">what</span>, <span class="ruby-identifier">with</span>) } ; <span class="ruby-identifier">s</span> ; <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-save_file" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">save_file</span><span
            class="method-args">(url, location, wtime=0)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="save_file-source">
            <pre><span class="ruby-comment"># File file_backup.rb, line 38</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">save_file</span> <span class="ruby-identifier">url</span>, <span class="ruby-identifier">location</span>, <span class="ruby-identifier">wtime</span>=<span class="ruby-value">0</span>
<span class="ruby-identifier">require</span> <span class="ruby-string">&#39;open-uri&#39;</span>
 <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;fileutils&#39;</span>
 <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">mkdir_p</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span> <span class="ruby-identifier">location</span> <span class="ruby-comment"># note &quot;~&quot; doesn&#39;t work</span>
  <span class="ruby-identifier">contents</span> = <span class="ruby-identifier">open</span>(<span class="ruby-identifier">url</span>).<span class="ruby-identifier">read</span>
  <span class="ruby-identifier">r</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">write</span> <span class="ruby-identifier">location</span>, <span class="ruby-identifier">contents</span>
  <span class="ruby-identifier">sleep</span> <span class="ruby-identifier">wtime</span>
  <span class="ruby-identifier">contents</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-unzip_slice_size_2" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">unzip_slice_size_2</span><span
            class="method-args">(args=ARGV)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="unzip_slice_size_2-source">
            <pre><span class="ruby-comment"># File unzip_slice_size_2.rb, line 38</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">unzip_slice_size_2</span> <span class="ruby-identifier">args</span>=<span class="ruby-constant">ARGV</span>
  <span class="ruby-identifier">print_method</span> = (<span class="ruby-identifier">non_neutral_element</span> [<span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>]) <span class="ruby-operator">||</span> <span class="ruby-string">&quot;print&quot;</span>
  <span class="ruby-identifier">prepend_0</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>
  <span class="ruby-identifier">append_0</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>
  <span class="ruby-identifier">prepend_1</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>
  <span class="ruby-identifier">append_1</span> = <span class="ruby-identifier">args</span>.<span class="ruby-identifier">shift</span>
  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">each_slice</span>(<span class="ruby-value">2</span>).<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> [ <span class="ruby-node">&quot;#{prepend_0}#{e[0]}#{append_0}&quot;</span>, <span class="ruby-node">&quot;#{prepend_1}#{e[1]}#{append_1}&quot;</span> ] }.<span class="ruby-identifier">transpose</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span><span class="ruby-value">:compact</span>).<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">method</span>(<span class="ruby-identifier">print_method</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-url_to_str" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">url_to_str</span><span
            class="method-args">(url, rescue_value=nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="url_to_str-source">
            <pre><span class="ruby-comment"># File file_backup.rb, line 49</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">url_to_str</span> <span class="ruby-identifier">url</span>, <span class="ruby-identifier">rescue_value</span>=<span class="ruby-keyword">nil</span>
<span class="ruby-identifier">require</span> <span class="ruby-string">&#39;open-uri&#39;</span>
  <span class="ruby-identifier">contents</span> = <span class="ruby-identifier">open</span>(<span class="ruby-identifier">url</span>).<span class="ruby-identifier">read</span> <span class="ruby-keyword">rescue</span> <span class="ruby-identifier">rescue_value</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

